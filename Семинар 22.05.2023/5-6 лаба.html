<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>5-6 Лабораторная работа (Классы и функции, стрелочные функции)</title>
</head>
<body>
<h1>Напишите функцию JavaScript, которая проверяет, является ли переданная строка палиндромом или нет (код из прошлой практической работы).</h1>
<input type="text" id="input" placeholder="Проверить палиндром">
<button onclick="checkPalindrome()">Проверить</button>
<p id="result"></p>
<script>

    function checkPalindrome() {
        let input = document.getElementById("input").value;
        let reversedInput = input.split("").reverse().join("");
        if (input === reversedInput) {
            document.getElementById("result").innerHTML = "Да, это палиндром";
        } else {
            document.getElementById("result").innerHTML = "Нет, это не палиндром";
        }
    }

</script>


<h1>Реализуйте в виде стрелочной функции вычисление среднего значения данных в массиве.</h1>
<input type="text" id="input1" placeholder="Массив чисел">
<button onclick="calculateAverage()">Проверить</button>
<p id="result1"></p>
<script>
    const calculateAverage = () => {
        try {
            const numbers = document.getElementById("input1").value.split(" ").map(Number);
            if (numbers.some(isNaN)) throw new Error("Ошибка ввода");
            const sum = numbers.reduce((acc, curr) => acc + curr, 0);
            const average = sum / numbers.length;
            document.getElementById("result1").textContent = `Среднее введёного массива ${average}`;
        } catch (error) {
            document.getElementById("result1").textContent = error.message;
        }
    };
</script>


<h1>Реализуйте в виде стрелочной функции вычисление среднего значения данных в массиве.</h1>
<input type="date" id="input2" placeholder="Дата рождения">
<button onclick="calculateAge()">Проверить</button>
<p id="result2"></p>
<script>
    class DateOfBirth {
        constructor(year, month, day) {
            this.year = year;
            this.month = month;
            this.day = day;
        }

        getAge() {
            const today = new Date();
            const birthDate = new Date(this.year, this.month, this.day);
            let age = today.getFullYear() - birthDate.getFullYear();
            const monthDiff = today.getMonth() - birthDate.getMonth();
            if (monthDiff < 0 || (monthDiff == 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            return age;
        }
    }
    function calculateAge() {
        let input = document.getElementById("input2").value.split("-").map(Number);
        const myBirthday = new DateOfBirth(input[0], input[1], input[2]);
        document.getElementById("result2").innerHTML = `Ваш возраст: ${myBirthday.getAge()}`;
    }
</script>